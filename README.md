# panda_tv_lol_anchor_classify

## 需求背景

电子竞技行业在近两年的发展非常的迅猛，关注人数持续上涨，喜爱的年轻人越来越多，但是要玩好某个游戏（如：DOTA，LOL）却也不是容易事，所以在新手入门的时候需要看一些游戏直播去了解学习，问题是如何迅速搜索到自己需要的直播间呢？

## 项目功能

抓取熊猫tv 直播间标题，对直播间进行分类，便于新手玩家搜索到直播内容为自己想玩的召唤师英雄或常玩位置的直播间。

## 爬虫

### 主播基本信息

- 分析ajax 请求，得到请求json 的URL 。
- 使用requests 得到json 内容，得到我们需要的内容封装成 dict保存到mongodb。
- 因为我们是抓取在线直播的主播，所以需要sleep，循环抓取才能尽量抓取完整。

### 主播订阅人数

- 分析ajax 请求url
- 从mongodb 得到id，再使用requests 请求url，如果data 空则删除该主播，如果data 非空则添加属性u_follower 到该条数据。

## 数据处理

### 预处理

#### 制作词库：

从 百度百科-英雄联盟-英雄列表 抓取 英雄称号 和 英雄名称 存入mongodb，然后在本地创建mydict.txt。

### jieba 分词

从mongdb 读取所以主播的房间标题（如：熊猫第一艾克帮水友拿波大师框），对标题精准分词，去重，将标签（如：艾克），在该主播的信息中添加属性label（如："r_label" : ['艾克']）。

## 待完善

- jieba 自定义词库：

由于我们是从百度百科抓取的名称，所以英雄名字过于官方，我们需要在自定义词库中添加一些召唤师英雄的乳名（如：复仇之矛，卡莉丝塔 -> 滑板鞋；潮汐海灵，菲兹 -> 小鱼儿； 等），这样才会让分词更加准确。

- 直播间分级：

通过订阅人数对直播间分级，订阅人数越多，说明直播间内容更加丰富，更值得推荐给新手玩家。

- 玩家定制个人需求，高精准推荐直播间给用户

## 版本信息

- python 3.6
- mongodb 3.4.3
- jieba 0.39
- requests 2.14.2
- pyquery 1.2.17
- pymongo 3.5.1 

